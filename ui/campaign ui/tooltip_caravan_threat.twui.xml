<?xml version="1.0"?>
<layout
	version="137"
	comment=""
	precache_condition="IsContextValid(PlayersFaction.FactionCaravansContext)">
	<hierarchy>
		<root this="B09CE04A-495F-4BCD-98213C09529C24B6">
			<tooltip_caravan_threat this="B2A2DE85-1F61-4BD3-A980DCF513F00A93">
				<heading_textbox this="BBAF955E-F82F-47D2-A25338B8E2D13E89"/>
				<description_window_overall this="3B89342F-7AA8-468B-94777970D5C8DFD5"/>
				<no_diplo_text this="A6AF5F0D-308A-4FEA-9F27AB5323A3E492"/>
				<at_war_text this="B4BE7540-959A-425D-AE5E96CB8CEC34C9"/>
				<ogre_camps this="4DD76027-3015-4536-A74BF2362D691315"/>
				<own_all_regions this="FF2E2BEA-5F72-4667-98BE114D847ADC09"/>
				<description_window_bandit this="59E7AF36-3270-408D-B1FA065A2AD50BF8"/>
				<bandit_threat this="4E576C4C-17F2-4694-896CE39DCA78B910"/>
			</tooltip_caravan_threat>
		</root>
	</hierarchy>
	<components>
		<description_window_bandit
			this="59E7AF36-3270-408D-B1FA065A2AD50BF8"
			id="description_window_bandit"
			offset="0.00,349.00"
			allowhorizontalresize="false"
			priority="255"
			tooltipslocalised="true"
			uniqueguid="59E7AF36-3270-408D-B1FA065A2AD50BF8"
			currentstate="9430402B-F6F6-41D1-A5438706D2DD0C4F">
			<callbackwithcontextlist>
				<callback_with_context
					callback_id="ContextTextLabel"
					context_object_id="CcoCampaignTechnology"
					context_function_id="RecordContext.ShortDescription"/>
			</callbackwithcontextlist>
			<states>
				<newstate
					this="9430402B-F6F6-41D1-A5438706D2DD0C4F"
					name="NewState"
					width="340"
					height="77"
					text="The more a route is used the higher the threat becomes. The threat will reduce over time. Controlling all the regions on a route will secure it against banditry."
					textxoffset="12.00,8.00"
					textyoffset="5.00,5.00"
					texthbehaviour="Resize"
					textlocalised="true"
					textlabel="StateText_24b4cc08"
					font_m_font_name="georgia_italic"
					font_m_size="12"
					font_m_colour="#A99F89FF"
					font_m_leading="1"
					fontcat_name="fe_italic"
					uniqueguid="9430402B-F6F6-41D1-A5438706D2DD0C4F"/>
			</states>
		</description_window_bandit>
		<at_war_text
			this="B4BE7540-959A-425D-AE5E96CB8CEC34C9"
			id="at_war_text"
			offset="0.00,211.00"
			allowhorizontalresize="false"
			priority="255"
			tooltipslocalised="true"
			uniqueguid="B4BE7540-959A-425D-AE5E96CB8CEC34C9"
			currentstate="46EF35AA-D05A-4398-9032DAEC0FFE11F9">
			<callbackwithcontextlist>
				<callback_with_context
					callback_id="ContextVisibilitySetter"
					context_object_id="CcoCampaignRouteSegment"
					context_function_id="SettlementList.Any(IsAbandoned == false &amp;&amp; FactionContext.IsEnemy)"/>
			</callbackwithcontextlist>
			<states>
				<newstate
					this="46EF35AA-D05A-4398-9032DAEC0FFE11F9"
					name="NewState"
					width="340"
					height="41"
					text="One or more warring factions are present on this route. They may attack your caravan."
					textxoffset="12.00,8.00"
					textyoffset="2.00,4.00"
					texthbehaviour="Resize"
					textlocalised="true"
					textlabel="at_war_text_NewState_Text_7df2cc9e"
					font_m_size="12"
					font_m_colour="#FF2D2DFF"
					font_m_leading="3"
					fontcat_name="fe_tooltip_red"
					uniqueguid="46EF35AA-D05A-4398-9032DAEC0FFE11F9"/>
			</states>
		</at_war_text>
		<root
			this="B09CE04A-495F-4BCD-98213C09529C24B6"
			id="root"
			tooltipslocalised="true"
			uniqueguid="B09CE04A-495F-4BCD-98213C09529C24B6"
			currentstate="E92D3F11-88C6-4E87-BFE6AD1A3513FAD3"
			defaultstate="E92D3F11-88C6-4E87-BFE6AD1A3513FAD3">
			<componentimages>
				<component_image
					this="16FA9DFE-6E84-43FC-AA5F1AB76CB6DD35"
					uniqueguid="16FA9DFE-6E84-43FC-AA5F1AB76CB6DD35"/>
			</componentimages>
			<states>
				<default
					this="E92D3F11-88C6-4E87-BFE6AD1A3513FAD3"
					name="default"
					width="1600"
					height="900"
					texthbehaviour="Never split"
					uniqueguid="E92D3F11-88C6-4E87-BFE6AD1A3513FAD3">
					<imagemetrics>
						<image
							this="E4F0AAB9-1565-4838-B8BFD32AC19EE636"
							uniqueguid="E4F0AAB9-1565-4838-B8BFD32AC19EE636"
							componentimage="16FA9DFE-6E84-43FC-AA5F1AB76CB6DD35"
							width="1600"
							height="900"
							colour="#F0F0F0FF"/>
					</imagemetrics>
				</default>
			</states>
		</root>
		<tooltip_caravan_threat
			this="B2A2DE85-1F61-4BD3-A980DCF513F00A93"
			id="tooltip_caravan_threat"
			clipchildren="true"
			priority="255"
			tooltipslocalised="true"
			uniqueguid="B2A2DE85-1F61-4BD3-A980DCF513F00A93"
			currentstate="B2710AAD-51BF-4EA5-90A057E60E613198">
			<callbackwithcontextlist>
				<callback_with_context
					callback_id="CustomTooltip"
					context_object_id="CcoCampaignRouteSegment"/>
			</callbackwithcontextlist>
			<componentimages>
				<component_image
					this="C5671D6A-4A44-4518-B1EA6B80CDDDA1F7"
					uniqueguid="C5671D6A-4A44-4518-B1EA6B80CDDDA1F7"
					imagepath="ui/skins/default/tooltip_frame.png"/>
			</componentimages>
			<states>
				<newstate
					this="B2710AAD-51BF-4EA5-90A057E60E613198"
					name="NewState"
					width="340"
					height="465"
					textxoffset="8.00,0.00"
					textyoffset="6.00,0.00"
					font_m_size="12"
					font_m_colour="#FFF8D7FF"
					font_m_leading="1"
					fontcat_name="fe_default_text"
					uniqueguid="B2710AAD-51BF-4EA5-90A057E60E613198">
					<imagemetrics>
						<image
							this="2ECDB166-F639-4529-8B18E03C929EBD99"
							uniqueguid="2ECDB166-F639-4529-8B18E03C929EBD99"
							componentimage="C5671D6A-4A44-4518-B1EA6B80CDDDA1F7"
							width="340"
							height="465"
							tile="true"
							margin="16.00,20.00,16.00,20.00"/>
						<image
							this="5D315F36-A62E-42DE-8F00DCAA539D6C01"
							uniqueguid="5D315F36-A62E-42DE-8F00DCAA539D6C01"
							componentimage="C5671D6A-4A44-4518-B1EA6B80CDDDA1F7"
							width="340"
							height="465"
							colour="#FFFFFF80"
							tile="true"
							margin="16.00,20.00,16.00,20.00"/>
					</imagemetrics>
				</newstate>
			</states>
			<LayoutEngine
				type="List"
				spacing="0.00,5.00"
				sizetocontent="true"
				margins="12.00,12.00">
				<columnwidths>
					<column width="354"/>
				</columnwidths>
			</LayoutEngine>
		</tooltip_caravan_threat>
		<bandit_threat
			this="4E576C4C-17F2-4694-896CE39DCA78B910"
			id="bandit_threat"
			offset="0.00,431.00"
			allowhorizontalresize="false"
			priority="255"
			tooltipslocalised="true"
			uniqueguid="4E576C4C-17F2-4694-896CE39DCA78B910"
			currentstate="53D238F9-222D-4C3C-A6B08CA3463C6F80"
			defaultstate="53D238F9-222D-4C3C-A6B08CA3463C6F80">
			<callbackwithcontextlist>
				<callback_with_context
					callback_id="ContextVisibilitySetter"
					context_object_id="CcoCampaignRouteSegment"
					context_function_id="BanditryLevel &gt; 0"/>
				<callback_with_context
					callback_id="ContextStateSetterConditional"
					context_object_id="CcoCampaignRouteSegment">
					<child_m_user_properties>
						<property
							name="1.high"
							value="BanditryLevel &gt;= HighBanditryLevelThreshold"/>
						<property
							name="2.medium"
							value="BanditryLevel &gt;= MediumBanditryLevelThreshold"/>
						<property
							name="fallback_state"
							value="low"/>
						<property
							name="ordered_states"
							value=""/>
					</child_m_user_properties>
				</callback_with_context>
			</callbackwithcontextlist>
			<states>
				<high
					this="9425E9EC-4129-4AE0-811E0F0AE99E8A26"
					name="high"
					width="340"
					height="22"
					text="Bandit threat: [[col:red]]High[[/col]]"
					textxoffset="12.00,8.00"
					textyoffset="2.00,4.00"
					texthbehaviour="Resize"
					textlocalised="true"
					textlabel="StateText_dbc7f16c"
					font_m_size="12"
					font_m_colour="#FFF8D7FF"
					font_m_leading="3"
					fontcat_name="fe_text"
					uniqueguid="9425E9EC-4129-4AE0-811E0F0AE99E8A26"/>
				<low
					this="53D238F9-222D-4C3C-A6B08CA3463C6F80"
					name="low"
					width="340"
					height="22"
					text="Bandit threat: [[col:green]]Low[[/col]]"
					textxoffset="12.00,8.00"
					textyoffset="2.00,4.00"
					texthbehaviour="Resize"
					textlocalised="true"
					textlabel="bandit_threat_low_Text_ee516cd4"
					font_m_size="12"
					font_m_colour="#FFF8D7FF"
					font_m_leading="3"
					fontcat_name="fe_text"
					uniqueguid="53D238F9-222D-4C3C-A6B08CA3463C6F80"/>
				<medium
					this="8B0FEA04-DF8B-4935-A9DB0A23B56058A1"
					name="medium"
					width="340"
					height="22"
					text="Bandit threat: [[col:orange]]Medium[[/col]]"
					textxoffset="12.00,8.00"
					textyoffset="2.00,4.00"
					texthbehaviour="Resize"
					textlocalised="true"
					textlabel="StateText_dffea3cf"
					font_m_size="12"
					font_m_colour="#FFF8D7FF"
					font_m_leading="3"
					fontcat_name="fe_text"
					uniqueguid="8B0FEA04-DF8B-4935-A9DB0A23B56058A1"/>
			</states>
		</bandit_threat>
		<ogre_camps
			this="4DD76027-3015-4536-A74BF2362D691315"
			id="ogre_camps"
			offset="0.00,257.00"
			allowhorizontalresize="false"
			priority="255"
			tooltipslocalised="true"
			uniqueguid="4DD76027-3015-4536-A74BF2362D691315"
			currentstate="F24EC9B0-EEA6-4120-B1C063C0FE3D3299">
			<callbackwithcontextlist>
				<callback_with_context
					callback_id="ContextVisibilitySetter"
					context_object_id="CcoCampaignRouteSegment"
					context_function_id="SettlementList.Any(ModelRegionContext.IsAgentSubtypePresent(&quot;wh3_main_ogr_tyrant_camp&quot;))"/>
				<callback_with_context
					callback_id="ContextPropagator"
					context_object_id="CcoCampaignTechnology"
					context_function_id="ResourceTransactionContext">
					<child_m_user_properties>
						<property
							name="clear_on_empty"
							value=""/>
					</child_m_user_properties>
				</callback_with_context>
			</callbackwithcontextlist>
			<states>
				<newstate
					this="F24EC9B0-EEA6-4120-B1C063C0FE3D3299"
					name="NewState"
					width="340"
					height="41"
					text="One or more Ogre camps are present on this route. They may attack your caravan."
					textxoffset="12.00,8.00"
					textyoffset="2.00,4.00"
					texthbehaviour="Resize"
					textlocalised="true"
					textlabel="ogre_camps_NewState_Text_102d49d4"
					font_m_size="12"
					font_m_colour="#FF2D2DFF"
					font_m_leading="3"
					fontcat_name="fe_tooltip_red"
					uniqueguid="F24EC9B0-EEA6-4120-B1C063C0FE3D3299"/>
			</states>
		</ogre_camps>
		<own_all_regions
			this="FF2E2BEA-5F72-4667-98BE114D847ADC09"
			id="own_all_regions"
			offset="0.00,303.00"
			allowhorizontalresize="false"
			priority="255"
			tooltipslocalised="true"
			uniqueguid="FF2E2BEA-5F72-4667-98BE114D847ADC09"
			currentstate="0F6B3BFE-6793-42F4-8BC9995E943894BC">
			<callbackwithcontextlist>
				<callback_with_context
					callback_id="ContextVisibilitySetter"
					context_object_id="CcoCampaignRouteSegment"
					context_function_id="SettlementList.All(FactionContext == PlayersFaction)"/>
			</callbackwithcontextlist>
			<states>
				<newstate
					this="0F6B3BFE-6793-42F4-8BC9995E943894BC"
					name="NewState"
					width="340"
					height="41"
					text="This route is completely controlled by your faction, and so is much safer for Caravans."
					textxoffset="12.00,8.00"
					textyoffset="2.00,4.00"
					texthbehaviour="Resize"
					textlocalised="true"
					textlabel="StateText_7f08484fp"
					font_m_size="12"
					font_m_colour="#A0FF37FF"
					font_m_leading="3"
					fontcat_name="fe_tooltip_green"
					uniqueguid="0F6B3BFE-6793-42F4-8BC9995E943894BC"/>
			</states>
		</own_all_regions>
		<description_window_overall
			this="3B89342F-7AA8-468B-94777970D5C8DFD5"
			id="description_window_overall"
			offset="0.00,49.00"
			allowhorizontalresize="false"
			priority="255"
			tooltipslocalised="true"
			uniqueguid="3B89342F-7AA8-468B-94777970D5C8DFD5"
			currentstate="83D6BDEB-CF44-47E6-B509A3E240731A34">
			<callbackwithcontextlist>
				<callback_with_context
					callback_id="ContextTextLabel"
					context_object_id="CcoCampaignTechnology"
					context_function_id="RecordContext.ShortDescription"/>
			</callbackwithcontextlist>
			<states>
				<newstate
					this="83D6BDEB-CF44-47E6-B509A3E240731A34"
					name="NewState"
					width="340"
					height="111"
					text="The threat to a Caravan is determined by your diplomatic relations with the factions that control the route, and the bandit threat created by the passage of treasure laden Caravans. Caravan encounter events are more dangerous when the overall threat is higher."
					textxoffset="12.00,8.00"
					textyoffset="5.00,5.00"
					texthbehaviour="Resize"
					textlocalised="true"
					textlabel="StateText_d66d0170"
					font_m_font_name="georgia_italic"
					font_m_size="12"
					font_m_colour="#A99F89FF"
					font_m_leading="1"
					fontcat_name="fe_italic"
					uniqueguid="83D6BDEB-CF44-47E6-B509A3E240731A34"/>
			</states>
		</description_window_overall>
		<heading_textbox
			this="BBAF955E-F82F-47D2-A25338B8E2D13E89"
			id="heading_textbox"
			offset="0.00,14.00"
			allowhorizontalresize="false"
			dock_offset="0.00,2.00"
			priority="255"
			tooltipslocalised="true"
			uniqueguid="BBAF955E-F82F-47D2-A25338B8E2D13E89"
			updatewhennotvisible="true"
			currentstate="AF4FDA3D-A4B8-47BB-8680D5EEA3578744"
			defaultstate="AF4FDA3D-A4B8-47BB-8680D5EEA3578744">
			<callbackwithcontextlist>
				<callback_with_context
					callback_id="ContextStateSetterConditional"
					context_object_id="CcoCampaignRouteSegment">
					<child_m_user_properties>
						<property
							name="1.high"
							value="SettlementList.Any(IsAbandoned == false &amp;&amp; FactionContext.IsEnemy) || BanditryLevel &gt;= HighBanditryLevelThreshold"/>
						<property
							name="2.medium"
							value="BanditryLevel &gt;= MediumBanditryLevelThreshold"/>
						<property
							name="fallback_state"
							value="low"/>
						<property
							name="ordered_states"
							value=""/>
					</child_m_user_properties>
				</callback_with_context>
			</callbackwithcontextlist>
			<states>
				<high
					this="361C6878-6C35-4059-A5DB7FC0620BF0E6"
					name="high"
					width="321"
					text="Overall threat: [[col:red]]High[[/col]]"
					texthalign="Center"
					textyoffset="8.00,6.00"
					texthbehaviour="Resize"
					textlocalised="true"
					textlabel="StateText_bf28d4d4"
					font_m_font_name="brand_header"
					font_m_size="14"
					font_m_colour="#FFF8D7FF"
					font_m_leading="1"
					fontcat_name="FE_header_small"
					interactive="true"
					uniqueguid="361C6878-6C35-4059-A5DB7FC0620BF0E6"/>
				<low
					this="AF4FDA3D-A4B8-47BB-8680D5EEA3578744"
					name="low"
					width="321"
					text="Overall Threat: [[col:green]]Low[[/col]]"
					texthalign="Center"
					textyoffset="8.00,6.00"
					texthbehaviour="Resize"
					textlocalised="true"
					textlabel="StateText_2b1cafbc"
					font_m_font_name="brand_header"
					font_m_size="14"
					font_m_colour="#FFF8D7FF"
					font_m_leading="1"
					fontcat_name="FE_header_small"
					interactive="true"
					uniqueguid="AF4FDA3D-A4B8-47BB-8680D5EEA3578744"/>
				<medium
					this="727E9142-1C66-42EB-90FF3960AEB018CC"
					name="medium"
					width="321"
					text="Overall threat: [[col:orange]]Medium[[/col]]"
					texthalign="Center"
					textyoffset="8.00,6.00"
					texthbehaviour="Resize"
					textlocalised="true"
					textlabel="StateText_c3d4acf6"
					font_m_font_name="brand_header"
					font_m_size="14"
					font_m_colour="#FFF8D7FF"
					font_m_leading="1"
					fontcat_name="FE_header_small"
					interactive="true"
					uniqueguid="727E9142-1C66-42EB-90FF3960AEB018CC"/>
			</states>
		</heading_textbox>
		<no_diplo_text
			this="A6AF5F0D-308A-4FEA-9F27AB5323A3E492"
			id="no_diplo_text"
			offset="0.00,165.00"
			allowhorizontalresize="false"
			priority="255"
			tooltipslocalised="true"
			uniqueguid="A6AF5F0D-308A-4FEA-9F27AB5323A3E492"
			currentstate="222EF602-A8ED-45E6-975E8C7ED250F30C">
			<callbackwithcontextlist>
				<callback_with_context
					callback_id="ContextVisibilitySetter"
					context_object_id="CcoCampaignRouteSegment"
					context_function_id="!(SettlementList.Any(FactionContext.IsEnemy)||SettlementList.Any(ModelRegionContext.IsAgentSubtypePresent(&quot;wh3_main_ogr_tyrant_camp&quot;))||SettlementList.All(FactionContext == PlayersFaction))"/>
			</callbackwithcontextlist>
			<states>
				<newstate
					this="222EF602-A8ED-45E6-975E8C7ED250F30C"
					name="NewState"
					width="340"
					height="41"
					text="No diplomatic relations are impacting Caravan safety at this time."
					textxoffset="12.00,8.00"
					textyoffset="2.00,4.00"
					texthbehaviour="Resize"
					textlocalised="true"
					textlabel="StateText_5520869c"
					font_m_size="12"
					font_m_colour="#FFF8D7FF"
					font_m_leading="3"
					fontcat_name="fe_text"
					uniqueguid="222EF602-A8ED-45E6-975E8C7ED250F30C"/>
			</states>
		</no_diplo_text>
	</components>
</layout>
